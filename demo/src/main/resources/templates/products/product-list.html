<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org"-->
<!--      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"-->
<!--      layout:decorate="~{layout}">-->
<!--<head>-->
<!--  <title th:text="${title} ?: 'Products List'">Products List</title>-->
<!--  <link rel="stylesheet"-->
<!--        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">-->
<!--</head>-->
<!--<body>-->
<!--<section layout:fragment="content">-->
<!--  <h1>Products List</h1>-->
<!--  <div>-->
<!--    <a th:href="@{/products/add}" class="btn btn-primary mb-3">Add New Product</a>-->
<!--  </div>-->
<!--  <table class="table table-bordered table-hover">-->
<!--    <thead class="table-dark">-->
<!--    <tr>-->
<!--      <th>ID</th>-->
<!--      <th>Name</th>-->
<!--      <th>Price</th>-->
<!--      <th>Description</th>-->
<!--      <th>Category Name</th>-->
<!--      <th>Actions</th>-->
<!--      <th>Add To Cart</th>-->
<!--    </tr>-->
<!--    </thead>-->
<!--    <tbody>-->
<!--    <tr th:each="product : ${products}">-->
<!--      <td th:text="${product.id}"></td>-->
<!--      <td th:text="${product.name}"></td>-->
<!--      <td th:text="${product.price}"></td>-->
<!--      <td th:text="${product.description}"></td>-->
<!--      <td th:text="${product.category.name}"></td>-->
<!--      <td>-->

<!--        <a th:href="@{/products/edit/{id}(id=${product.id})}" class="btn btn-success btn-sm">Edit</a>-->

<!--        <a th:href="@{/products/delete/{id}(id=${product.id})}" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure?')">Delete</a>-->
<!--      </td>-->
<!--      <td>-->
<!--        <form th:action="@{/cart/add}" method="post">-->

<!--          <input type="number" name="quantity" min="1" value="1" class="form-control d-inline-block" style="width: 70px;">-->

<!--          <input type="hidden" th:value="${product.id}" name="productId"/>-->
<!--          <button type="submit" class="btn btn-warning btn-sm">Add to-->
<!--            Cart</button>-->
<!--        </form>-->
<!--      </td>-->
<!--    </tr>-->
<!--    </tbody>-->
<!--  </table>-->
<!--</section>-->
<!--</body>-->
<!--</html>-->


<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout}">-->
<!--<head>-->
<!--  <title>Products List</title>-->
<!--  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">-->
<!--  <style>-->
<!--        .product-actions {-->
<!--            display: flex;-->
<!--            gap: 5px;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<section layout:fragment="content" class="container">-->
<!--  <h1>Products List</h1>-->
<!--  <div class="mb-3">-->
<!--    <a th:href="@{/products/add}" class="btn btn-primary">Add New Product</a>-->
<!--  </div>-->
<!--  <table class="table table-bordered table-hover">-->
<!--    <thead class="table-dark">-->
<!--    <tr>-->
<!--      <th>ID</th>-->
<!--      <th>Name</th>-->
<!--      <th>Price</th>-->
<!--      <th>Description</th>-->
<!--      <th>Category Name</th>-->
<!--      <th>Image</th> &lt;!&ndash; Thêm cột hình ảnh &ndash;&gt;-->
<!--      <th>Actions</th>-->
<!--      <th>Add To Cart</th>-->
<!--    </tr>-->
<!--    </thead>-->
<!--    <tbody>-->
<!--    <tr th:each="product : ${products}">-->
<!--      <td th:text="${product.id}"></td>-->
<!--      <td th:text="${product.name}"></td>-->
<!--      <td th:text="${product.price}"></td>-->
<!--      <td th:text="${product.description}"></td>-->
<!--      <td th:text="${product.category.name}"></td>-->
<!--      <td>-->
<!--        <img th:src="@{${product.imageUrl}}" alt="Product Image" class="product-img">-->
<!--      </td> &lt;!&ndash; Hiển thị hình ảnh của sản phẩm &ndash;&gt;-->
<!--      <td class="product-actions">-->
<!--        <a th:href="@{/products/edit/{id}(id=${product.id})}" class="btn btn-success btn-sm">-->
<!--          <i class="fas fa-edit"></i> Edit-->
<!--        </a>-->
<!--        <a th:href="@{/products/delete/{id}(id=${product.id})}" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure?')">-->
<!--          <i class="fas fa-trash-alt"></i> Delete-->
<!--        </a>-->
<!--      </td>-->
<!--      <td>-->
<!--        <form th:action="@{/cart/add}" method="post" class="d-flex align-items-center">-->
<!--          <input type="number" name="quantity" min="1" value="1" class="form-control me-2" style="width: 70px;">-->
<!--          <input type="hidden" th:value="${product.id}" name="productId"/>-->
<!--          <button type="submit" class="btn btn-warning btn-sm">-->
<!--            <i class="fas fa-cart-plus"></i> Add to Cart-->
<!--          </button>-->
<!--        </form>-->
<!--      </td>-->
<!--    </tr>-->
<!--    </tbody>-->
<!--  </table>-->
<!--</section>-->
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"></script>-->
<!--</body>-->
<!--</html>-->

<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout}">-->
<!--<head>-->
<!--  <title>Products List</title>-->
<!--  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">-->
<!--  <style>-->
<!--        .product-card {-->
<!--            border: 1px solid #dee2e6;-->
<!--            border-radius: 0.25rem;-->
<!--            margin-bottom: 20px;-->
<!--        }-->
<!--        .product-card img {-->
<!--            max-width: 100%;-->
<!--            height: auto;-->
<!--            border-top-left-radius: 0.25rem;-->
<!--            border-top-right-radius: 0.25rem;-->
<!--        }-->
<!--        .product-card-body {-->
<!--            padding: 1rem;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<section layout:fragment="content" class="container">-->
<!--  <h1>Products List</h1>-->
<!--  <div class="row row-cols-1 row-cols-md-3 g-4">-->
<!--    <div th:each="product : ${products}" class="col">-->
<!--      <div class="card product-card">-->
<!--        <img th:src="@{${product.imageUrl}}" alt="Product Image" class="card-img-top">-->
<!--        <div class="card-body product-card-body">-->
<!--          <h5 class="card-title" th:text="${product.name}"></h5>-->
<!--          <p class="card-text" th:text="${'Price: $' + product.price}"></p>-->
<!--          <p class="card-text" th:text="${product.description}"></p>-->
<!--          <div class="d-flex justify-content-between align-items-center">-->
<!--            <div class="btn-group">-->
<!--              <a th:href="@{/products/edit/{id}(id=${product.id})}" class="btn btn-sm btn-outline-secondary">Edit</a>-->
<!--              <a th:href="@{/products/delete/{id}(id=${product.id})}" class="btn btn-sm btn-outline-secondary" onclick="return confirm('Are you sure?')">Delete</a>-->
<!--            </div>-->
<!--            <form th:action="@{/cart/add}" method="post" class="d-flex align-items-center">-->
<!--              <input type="number" name="quantity" min="1" value="1" class="form-control me-2" style="width: 70px;">-->
<!--              <input type="hidden" th:value="${product.id}" name="productId"/>-->
<!--              <button type="submit" class="btn btn-warning btn-sm">-->
<!--                <i class="fas fa-cart-plus"></i> Add to Cart-->
<!--              </button>-->
<!--            </form>-->
<!--          </div>-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->
<!--  </div>-->
<!--</section>-->
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"></script>-->
<!--</body>-->
<!--</html>-->


<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org"-->
<!--      xmlns:sec="http://www.thymeleaf.org/extras/spring-security5" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"-->
<!--layout:decorate="~{layout}">-->
<!--<head>-->
<!--  <title th:text="${title} ?: 'Products List'">Products List</title>-->
<!--  <link rel="stylesheet"-->
<!--        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">-->
<!--</head>-->
<!--<body>-->
<!--<section layout:fragment="content">-->
<!--  <h1>Products List</h1>-->
<!--  <table class="table table-bordered table-hover">-->
<!--    <thead class="table-dark">-->
<!--    <tr>-->
<!--      <th>ID</th>-->
<!--      <th>Name</th>-->
<!--      <th>Price</th>-->
<!--      <th>Description</th>-->
<!--      <th>Category Name</th>-->
<!--      <th>Actions</th>-->
<!--      <th>Add To Cart</th>-->
<!--    </tr>-->
<!--    </thead>-->
<!--    <tbody>-->
<!--    <tr th:each="product : ${products}">-->
<!--      <td th:text="${product.id}"></td>-->
<!--      <td th:text="${product.name}"></td>-->
<!--      <td th:text="${product.price}"></td>-->
<!--      <td th:text="${product.description}"></td>-->
<!--      <td th:text="${product.category.name}"></td>-->
<!--      <td>-->
<!--        &lt;!&ndash; Hiển thị nút sửa và xóa chỉ dành cho người dùng ADMIN &ndash;&gt;-->
<!--        <div sec:authorize="hasAuthority('ADMIN')">-->
<!--          <a th:href="@{/products/edit/{id}(id=${product.id})}"-->
<!--             class="btn btn-success btn-sm">Sửa</a>-->
<!--          <a th:href="@{/products/delete/{id}(id=${product.id})}"-->
<!--             class="btn btn-danger btn-sm" onclick="return confirm('Bạn có chắc không?')">Xóa</a>-->
<!--        </div>-->
<!--      </td>-->
<!--      <td>-->
<!--        &lt;!&ndash; Nút thêm vào giỏ hàng, hiển thị cho tất cả người dùng đã xác-->
<!--       thực &ndash;&gt;-->
<!--        <form th:action="@{/cart/add}" method="post"-->
<!--              sec:authorize="isAuthenticated()">-->
<!--          <input type="number" name="quantity" min="1" value="1"-->
<!--                 class="form-control d-inline-block" style="width: 70px;">-->
<!--          <input type="hidden" th:value="${product.id}"-->
<!--                 name="productId"/>-->
<!--          <button type="submit" class="btn btn-warning btn-sm">Thêm Vào-->
<!--            Giỏ</button>-->
<!--        </form>-->
<!--      </td>-->
<!--    </tr>-->
<!--    </tbody>-->
<!--  </table>-->
<!--</section>-->
<!--</body>-->
<!--</html>-->

<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org"-->
<!--      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"-->
<!--      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"-->
<!--      layout:decorate="~{layout}">-->

<!--<head>-->
<!--  <title>Products List</title>-->
<!--  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">-->
<!--  <style>-->
<!--        .product-card {-->
<!--            border: 1px solid #dee2e6;-->
<!--            border-radius: 0.25rem;-->
<!--            margin-bottom: 20px;-->
<!--        }-->

<!--        .product-card img {-->
<!--            max-width: 100%;-->
<!--            height: auto;-->
<!--            border-top-left-radius: 0.25rem;-->
<!--            border-top-right-radius: 0.25rem;-->
<!--        }-->

<!--        .product-card-body {-->
<!--            padding: 1rem;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->

<!--<body>-->
<!--<section layout:fragment="content" class="container">-->
<!--  <form class="d-flex ms-auto" th:action="@{/products/search}" method="get">-->
<!--    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" name="keyword">-->
<!--    <button class="btn btn-outline-light" type="submit">Search</button>-->
<!--  </form>-->
<!--  <div class="row row-cols-1 row-cols-md-3 g-4">-->
<!--    <div th:each="product : ${products}" class="col">-->
<!--      <div class="card product-card">-->
<!--        <img th:src="@{${product.imageUrl}}" alt="Product Image" class="card-img-top">-->
<!--        <div class="card-body product-card-body">-->
<!--          <h5 class="card-title" th:text="${product.name}"></h5>-->
<!--          <p class="card-text" th:text="${'Price: $' + product.price}"></p>-->
<!--          <p class="card-text" th:text="${product.description}"></p>-->
<!--          <div class="d-flex justify-content-between align-items-center">-->
<!--            <div class="btn-group">-->
              <!-- Hiển thị nút Edit và Delete chỉ dành cho ADMIN -->
<!--              <a th:href="@{/products/edit/{id}(id=${product.id})}"-->
<!--                 class="btn btn-sm btn-outline-secondary"-->
<!--                 sec:authorize="hasAuthority('ADMIN')">Edit</a>-->
<!--              <a th:href="@{/products/delete/{id}(id=${product.id})}"-->
<!--                 class="btn btn-sm btn-outline-secondary"-->
<!--                 onclick="return confirm('Are you sure?')"-->
<!--                 sec:authorize="hasAuthority('ADMIN')">Delete</a>-->
<!--                <a th:href="@{/products/detail/{id}(id=${product.id})}" class="btn btn-sm btn-outline-secondary">-->
<!--                  Details-->
<!--                </a>-->
<!--            </div>-->
<!--            &lt;!&ndash; Hiển thị form thêm vào giỏ hàng &ndash;&gt;-->
<!--            <form th:action="@{/cart/add}" method="post" class="d-flex align-items-center">-->
<!--              <input type="number" name="quantity" min="1" value="1"-->
<!--                     class="form-control me-2" style="width: 70px;">-->
<!--              <input type="hidden" th:value="${product.id}" name="productId"/>-->
<!--              <button type="submit" class="btn btn-warning btn-sm">-->
<!--                <i class="fas fa-cart-plus"></i> Add to Cart-->
<!--              </button>-->
<!--            </form>-->
<!--          </div>-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->
<!--  </div>-->
<!--</section>-->
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"></script>-->
<!--</body>-->

<!--</html>-->

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">

<head>
  <title>Products List</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <style>
    .product-card {
      border: 1px solid #dee2e6;
      border-radius: 0.25rem;
      margin-bottom: 20px;
      height: 100%;
    }

    .product-card img {
      max-width: 100%;
      height: auto;
      border-top-left-radius: 0.25rem;
      border-top-right-radius: 0.25rem;
    }

    .product-card-body {
      padding: 1rem;
      height: 100%;
    }

    .card-title {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .card-text {
      overflow: hidden;
      display: -webkit-box;
      -webkit-line-clamp: 3; /* số dòng tối đa hiển thị */
      -webkit-box-orient: vertical;
    }
  </style>
</head>

<body>
<section layout:fragment="content" class="container">
  <form class="d-flex ms-auto" th:action="@{/products/search}" method="get">
    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" name="keyword">
    <button class="btn btn-outline-light" type="submit">Search</button>
  </form>
  <div class="row row-cols-1 row-cols-md-3 g-4">
    <div th:each="product : ${products}" class="col">
      <div class="card product-card">
        <img th:src="@{${product.imageUrl}}" alt="Product Image" class="card-img-top">
        <div class="card-body product-card-body">
          <h5 class="card-title" th:text="${product.name}"></h5>
          <p class="card-text" th:text="${'Price: $' + product.price}"></p>
          <p class="card-text" th:text="${product.description}"></p>
          <div class="d-flex justify-content-between align-items-center">
            <div class="btn-group">
              <!-- Hiển thị nút Edit và Delete chỉ dành cho ADMIN -->
              <a th:href="@{/products/edit/{id}(id=${product.id})}"
                 class="btn btn-sm btn-outline-secondary"
                 sec:authorize="hasAuthority('ADMIN')">Edit</a>
              <a th:href="@{/products/delete/{id}(id=${product.id})}"
                 class="btn btn-sm btn-outline-secondary"
                 onclick="return confirm('Are you sure?')"
                 sec:authorize="hasAuthority('ADMIN')">Delete</a>
              <a th:href="@{/products/detail/{id}(id=${product.id})}" class="btn btn-sm btn-outline-secondary">
                Details
              </a>
            </div>
            <!-- Hiển thị form thêm vào giỏ hàng -->
            <form th:action="@{/cart/add}" method="post" class="d-flex align-items-center">
              <input type="number" name="quantity" min="1" value="1"
                     class="form-control me-2" style="width: 70px;">
              <input type="hidden" th:value="${product.id}" name="productId"/>
              <button type="submit" class="btn btn-warning btn-sm">
                <i class="fas fa-cart-plus"></i> Add to Cart
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"></script>
</body>

</html>